<!--<!DOCTYPE html>
<html>
  <head>
   <title>test page</title>
   <script type='text/javascript'>
     <!--

   function createTable4() {
    var data = new Array();

    data.push('<table border=1><tbody>');
       for (var i = 0; i < 2000; i++) {
        data.push('<tr>');
        for (var j = 0; j < 5; j++) {
         data.push('<td>' + i + ',' + j + '</td>');
        }
        data.push('</tr>');
       }
       data.push('</tbody><table>');

       document.getElementById('table1').innerHTML = data.join('');
   }

     //->
   </script>
  </head>
 <body>
  <div id="table1" style="border: 1px solid black">
  </div>

  <script>
   createTable4();
  </script>
 </body>
</html>-->
<!DOCTYPE html>
    <html>
    <head>
        <title>DOM</title>
        <meta charset="utf-8">
        <style type="text/css" >
        /*#box{
            height:100px;
            width:100px;
            background:rgb(255,234,00);
        }*/
        </style>
        <script src="jquery-1.12.4/jquery.min.js"></script>
        <script src="JSON-js-master/json2.js"></script>
        <script type="text/javascript">
        window.onload = function(){
            var clos,rows,tab;
            var R,G,B;
            var btn1 = document.getElementById("t3");
            var box = document.getElementById("box");
            btn1.onclick = function(){
                $.get('data.json').done(function(data){
                    alert(JSON.stringify(data));
                    clos = data.original.size;
                    map_to_paint = data.original.map;
                    rows = clos;
                    tab = document.createElement("table");
                    tab.id = 'centre_table';
                    for(var i = 0 ;i < clos ; i++){
                        var tr = document.createElement("tr");
                        for(var j = 0; j < rows ; j++){
                            if (map_to_paint[i][j] == 0){
                                R = 255;
                                G = 255;
                                B = 255;
                            }else if (map_to_paint[i][j] == 1){
                                R = 0;
                                G = 0;
                                B = 0;
                            }else if (map_to_paint[i][j] == 2){
                                R = 255;
                                G = 0;
                                B = 0;
                            }
                            var td = document.createElement("td");
                            td.style.cssText = "width:50px;text-align:center; height:50px; border:solid 1px #FF0000;background:rgb("+ R +"," + G +"," + B +")";
                            //td.innerHTML = Math.floor(Math.random()*clos*rows);
                            tr.appendChild(td);
                        }
                        tab.appendChild(tr);
                    }
                    var table_old = document.getElementById("centre_table");
                    if (table_old != null){
                        box.removeChild(table_old);
                        box.appendChild(tab);
                    }else{
                        box.appendChild(tab);
                    }
                });


            }


        }
        </script>
    </head>
    <body>
        <label>行：</label><input type = "text" value ="" id = "t1">
        <label>列：</label><input type = "text" value ="" id = "t2">
        <input type = "button" value = "生成表格" id ="t3">
        <div id ="box">
            <table id="centre_table">
            </table>
        </div>
    </body>
    </html>